<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="description" content="ShopRight Kenya - Online Electronics Store for Smartphones, Laptops, Accessories & More.">
        <meta name="keywords" content="electronics store, online shopping Kenya, smartphones, laptops, gaming, accessories, home appliances, gadgets">
        <meta name="author" content="ShopRight Kenya">
        <meta name="robots" content="index, follow">
        <meta property="og:title" content="ShopRight Kenya - #1 Electronics Store in Kenya">
        <meta property="og:description" content="Find the latest electronics including smartphones, laptops, gaming consoles, and accessories at unbeatable prices!">
        <meta property="og:image" content="img/shopright-logo.png">
        <meta property="og:url" content="https://shopright.co.ke">
        <meta property="og:type" content="website">
        <meta name="twitter:card" content="summary_large_image">
        <meta name="twitter:title" content="ShopRight Kenya - Best Online Electronics Shopping">
        <meta name="twitter:description" content="Shop latest electronics, smartphones, laptops, gaming & accessories at the best prices in Kenya!">
        <meta name="twitter:image" content="https://i.imgur.com/kACi9At.png"> 
        <link rel="icon" type="image/png" href="https://i.imgur.com/XcifrYP.png">     
        <title>ShopRight Kenya | Best Electronics Store</title>
        <script src="https://cdn.tailwindcss.com"></script>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@10/swiper-bundle.min.css" /> 
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
        <link rel="stylesheet" href="styles.css">
      </head>      

<body class="bg-gray-100 overflow-x-hidden">
<script src="https://cdn.jsdelivr.net/npm/swiper@10/swiper-bundle.min.js"></script>

<script src="products.js"></script>


  <style>
    /* Add transition for smooth background color change and transform */
    .product-link {
      transition: background-color 0.3s ease, transform 0.3s ease;
    
    /* Change background color and slightly enlarge on hover */
    .product-link:hover {
      background-color: #bfdbfe; /* Lighter blue background on hover */
      transform: scale(1.05); /* Slightly enlarge the element */
    }
    }

    #search-results, #mobile-search-results {
    max-height: 350px; /* Set max height */
    overflow-y: auto; /* Enable scrolling */
    width: 100%; /* Ensure full width */
    position: absolute;
    background: white;
    border-radius: 8px;
    box-shadow: 0px 5px 15px rgba(0, 0, 0, 0.2);
    z-index: 50; /* Keep it above other elements */
    border: 1px solid #ddd; /* Light border for better visibility */
    padding: 10px; /* Add some spacing */
}

/* 🔹 Each search result item */
.search-item {
    display: flex;
    align-items: center;
    padding: 10px;
    border-bottom: 1px solid #f1f1f1;
    transition: background 0.3s ease-in-out;
}

/* 🔹 Last item shouldn't have a bottom border */
.search-item:last-child {
    border-bottom: none;
}

/* 🔹 Product image */
.search-item img {
    width: 50px;
    height: 50px;
    object-fit: cover;
    border-radius: 5px;
    margin-right: 10px;
}

/* 🔹 Product details */
.search-item .details {
    flex-grow: 1;
}

/* 🔹 Product name */
.search-item .details h4 {
    font-size: 14px;
    font-weight: 600;
    color: #333;
    margin-bottom: 2px;
}

/* 🔹 Product price */
.search-item .details p {
    font-size: 13px;
    color: #ff6600;
    font-weight: bold;
}

/* 🔹 Hover effect */
.search-item:hover {
    background: #f9f9f9;
    cursor: pointer;
}


    </style>

<!-- HEADER -->
<header id="main-header" class="fixed bg-white w-full top-0 z-50 shadow-md">
  <div class="container mx-auto flex items-center justify-between px-4 py-3">
    
    <!-- Logo -->
    <a href="/" class="flex items-center">
      <img src="img/Logo.png" alt="Logo" class="h-10">
    </a>

<!-- Middle Section: Search Bar -->
<div class="hidden md:flex flex-grow justify-center relative">
  <div class="flex border border-gray-300 rounded-lg w-2/3 lg:w-1/2 relative">
      <input id="search-input" type="text" placeholder="Search products..." 
             class="w-full p-3 rounded-l-lg focus:outline-none">
      <button id="search-btn" class="bg-yellow-400 px-6 py-3 rounded-r-lg text-white">
          <i class="fas fa-search"></i>
      </button>
  </div>
  <!-- Search Results Dropdown -->
  <div id="search-results" class="absolute top-full left-0 w-full bg-white shadow-md rounded-lg p-3 hidden"></div>
</div>


    <!-- Right Section: Icons -->
    <div class="flex items-center space-x-4">
      <!-- Search Icon (Only for Small Screens) -->
      <button id="searchToggle" class="md:hidden text-xl">
        <i class="fas fa-search"></i>
      </button>

<!-- 🛒 Cart Icon in Header -->
<div class="relative">
  <a href="#" id="cart-icon" class="text-xl"> 
    <i class="fas fa-shopping-cart"></i>
  </a>
  <span id="cartCount" class="absolute -top-2 -right-2 bg-red-500 text-xs text-white px-2 py-0.5 rounded-full hidden">0</span>
</div>


<div class="relative inline-block">
  <!-- Dropdown Toggle Button -->
  <button id="dropdownBtn" class="px-4 py-2 bg-blue-600 text-white rounded-md focus:outline-none">
      <i class="fas fa-user"></i>
  </button>
  <!-- Dropdown Menu (Fix Position) -->
  <ul id="dropdownMenu" class="absolute right-0 mt-2 w-40 bg-white border border-gray-200 rounded-md shadow-md hidden">
      <!-- Items will be inserted dynamically -->
  </ul>
</div>  

  <!-- Mobile Search Bar (Initially Hidden) -->
  <div id="mobileSearch" class="hidden bg-white p-3 w-full fixed top-16 left-0 shadow-md">
    <div class="flex border border-gray-300 rounded-lg">
      <input id="mobile-search-input" type="text" placeholder="Search products..." 
      class="w-full p-3 rounded-l-lg focus:outline-none">
      <button id="mobile-search-btn" class="bg-yellow-400 px-6 py-3 rounded-r-lg text-white">
        <i class="fas fa-search"></i>
      </button>
    </div>
     <!-- 🔽 Mobile Search Results Dropdown -->
    <div id="mobile-search-results" class="absolute bg-white shadow-md rounded-lg p-3 w-full hidden"></div>
  </div>

</header>

<!-- 📌 Navbar (Visible on Large Screens) -->
<nav id="categoriesNavbar" class="hidden lg:flex bg-white shadow-md p-2 fixed top-20 left-0 w-full z-50 border-b border-gray-300">

    <ul class="flex space-x-6 mx-auto relative">
        <li class="relative group" data-category="laptops">
            <a href="./product/?category=laptops" class="nav-link px-4 py-2 text-gray-700 font-bold hover:text-blue-600 border border-gray-400 rounded-md">Laptops</a>
            <!-- Subcategories Dropdown -->
            <ul class="absolute left-0 hidden bg-white shadow-lg rounded-lg p-2 w-56 group-hover:block border border-gray-300">
                <li><a href="#" class="dropdown-link block px-4 py-2 hover:text-blue-600 border border-gray-400 rounded-md">Dell Laptops</a></li>
                <li><a href="#" class="dropdown-link block px-4 py-2 hover:text-blue-600 border border-gray-400 rounded-md">HP Laptops</a></li>
                <li><a href="#" class="dropdown-link block px-4 py-2 hover:text-blue-600 border border-gray-400 rounded-md">MacBooks</a></li>
                <li><a href="#" class="dropdown-link block px-4 py-2 hover:text-blue-600 border border-gray-400 rounded-md">Gaming Laptops</a></li>
                <li><a href="#" class="dropdown-link block px-4 py-2 hover:text-blue-600 border border-gray-400 rounded-md">Business Laptops</a></li>
                <li><a href="#" class="dropdown-link block px-4 py-2 hover:text-blue-600 border border-gray-400 rounded-md">All-in-One PCs</a></li>
            </ul>
        </li>
        <li class="relative group" data-category="smartphones">
            <a href="./product/?category=smartphones" class="nav-link px-4 py-2 text-gray-700 font-bold hover:text-blue-600 border border-gray-400 rounded-md">Smartphones</a>
            <ul class="absolute left-0 hidden bg-white shadow-lg rounded-lg p-2 w-56 group-hover:block border border-gray-300">
                <li><a href="#" class="dropdown-link block px-4 py-2 hover:text-blue-600 border border-gray-400 rounded-md">iPhones</a></li>
                <li><a href="#" class="dropdown-link block px-4 py-2 hover:text-blue-600 border border-gray-400 rounded-md">Android Phones</a></li>
                <li><a href="#" class="dropdown-link block px-4 py-2 hover:text-blue-600 border border-gray-400 rounded-md">Tablets</a></li>
                <li><a href="#" class="dropdown-link block px-4 py-2 hover:text-blue-600 border border-gray-400 rounded-md">Accessories</a></li>
            </ul>
        </li>
        <li class="relative group" data-category="audio">
            <a href="#" class="nav-link px-4 py-2 text-gray-700 font-bold hover:text-blue-600 border border-gray-400 rounded-md">Audio</a>

            <ul class="absolute left-0 hidden bg-white shadow-lg rounded-lg p-2 w-56 group-hover:block border border-gray-300">
                <li><a href="#" class="dropdown-link block px-4 py-2 hover:text-blue-600 border border-gray-400 rounded-md">Wireless Earbuds</a></li>
                <li><a href="#" class="dropdown-link block px-4 py-2 hover:text-blue-600 border border-gray-400 rounded-md">Over-Ear Headphones</a></li>
                <li><a href="#" class="dropdown-link block px-4 py-2 hover:text-blue-600 border border-gray-400 rounded-md">Bluetooth Speakers</a></li>
                <li><a href="#" class="dropdown-link block px-4 py-2 hover:text-blue-600 border border-gray-400 rounded-md">Home Theater Systems</a></li>
                <li><a href="#" class="dropdown-link block px-4 py-2 hover:text-blue-600 border border-gray-400 rounded-md">Soundbars</a></li>
            </ul>
        </li>


        <li class="relative group" data-category="televisions">
            <a href="#" class="nav-link px-4 py-2 text-gray-700 font-bold hover:text-blue-600 border border-gray-400 rounded-md">Televisions</a>

            <ul class="absolute left-0 hidden bg-white shadow-lg rounded-lg p-2 w-56 group-hover:block border border-gray-300">
                <li><a href="#" class="dropdown-link block px-4 py-2 hover:text-blue-600 border border-gray-400 rounded-md">Smart TVs</a></li>
                <li><a href="#" class="dropdown-link block px-4 py-2 hover:text-blue-600 border border-gray-400 rounded-md">4K Ultra HD TVs</a></li>
                <li><a href="#" class="dropdown-link block px-4 py-2 hover:text-blue-600 border border-gray-400 rounded-md">Projectors</a></li>
                <li><a href="#" class="dropdown-link block px-4 py-2 hover:text-blue-600 border border-gray-400 rounded-md">LED TVs</a></li>
                <li><a href="#" class="dropdown-link block px-4 py-2 hover:text-blue-600 border border-gray-400 rounded-md">Accessories</a></li>
            </ul>
        </li>
        <li class="relative group" data-category="power-batteries">
            <a href="#" class="nav-link px-4 py-2 text-gray-700 font-bold hover:text-blue-600 border border-gray-400 rounded-md">Power & Batteries</a>

            <ul class="absolute left-0 hidden bg-white shadow-lg rounded-lg p-2 w-56 group-hover:block border border-gray-300">
                <li><a href="#" class="dropdown-link block px-4 py-2 hover:text-blue-600 border border-gray-400 rounded-md">Power Banks</a></li>
                <li><a href="#" class="dropdown-link block px-4 py-2 hover:text-blue-600 border border-gray-400 rounded-md">Rechargeable Batteries</a></li>
                <li><a href="#" class="dropdown-link block px-4 py-2 hover:text-blue-600 border border-gray-400 rounded-md">Solar Chargers</a></li>
                <li><a href="#" class="dropdown-link block px-4 py-2 hover:text-blue-600 border border-gray-400 rounded-md">UPS & Surge Protectors</a></li>
                <li><a href="#" class="dropdown-link block px-4 py-2 hover:text-blue-600 border border-gray-400 rounded-md">Accessories</a></li>
            </ul>
        </li>
        <li class="relative group" data-category="cameras">
            <a href="#" class="nav-link px-4 py-2 text-gray-700 font-bold hover:text-blue-600 border border-gray-400 rounded-md">Cameras</a>

            <ul class="absolute left-0 hidden bg-white shadow-lg rounded-lg p-2 w-56 group-hover:block border border-gray-300">
                <li><a href="#" class="dropdown-link block px-4 py-2 hover:text-blue-600 border border-gray-400 rounded-md">DSLR Cameras</a></li>
                <li><a href="#" class="dropdown-link block px-4 py-2 hover:text-blue-600 border border-gray-400 rounded-md">Mirrorless Cameras</a></li>
                <li><a href="#" class="dropdown-link block px-4 py-2 hover:text-blue-600 border border-gray-400 rounded-md">Camera Lenses</a></li>
                <li><a href="#" class="dropdown-link block px-4 py-2 hover:text-blue-600 border border-gray-400 rounded-md">Tripods & Mounts</a></li>
                <li><a href="#" class="dropdown-link block px-4 py-2 hover:text-blue-600 border border-gray-400 rounded-md">Memory Cards</a></li>
            </ul>
        </li>
        <li class="relative group" data-category="networking">
            <a href="#" class="nav-link px-4 py-2 text-gray-700 font-bold hover:text-blue-600 border border-gray-400 rounded-md">Networking</a>

            <ul class="absolute left-0 hidden bg-white shadow-lg rounded-lg p-2 w-56 group-hover:block border border-gray-300">
                <li><a href="#" class="dropdown-link block px-4 py-2 hover:text-blue-600 border border-gray-400 rounded-md">Routers</a></li>
                <li><a href="#" class="dropdown-link block px-4 py-2 hover:text-blue-600 border border-gray-400 rounded-md">Modems</a></li>
                <li><a href="#" class="dropdown-link block px-4 py-2 hover:text-blue-600 border border-gray-400 rounded-md">Network Switches</a></li>
                <li><a href="#" class="dropdown-link block px-4 py-2 hover:text-blue-600 border border-gray-400 rounded-md">Wi-Fi Extenders</a></li>
                <li><a href="#" class="dropdown-link block px-4 py-2 hover:text-blue-600 border border-gray-400 rounded-md">Network Cables</a></li>
            </ul>
        </li>
    </ul>
</nav>



<aside id="categoriesSidebar" class="fixed left-0 top-0 w-64 bg-white p-4 h-screen shadow-lg overflow-y-auto transform -translate-x-full transition-transform duration-300 ease-in-out z-50 lg:hidden">

    <ul class="mt-10 space-y-3">
        <!-- 📌 Laptops -->
        <li class="px-4 py-2 bg-gray-700 text-white font-semibold">Laptops</li>
        <ul class="pl-6 text-gray-600">
            <li><a href="#" class="block py-1 hover:text-blue-600">Dell Laptops</a></li>
            <li><a href="#" class="block py-1 hover:text-blue-600">HP Laptops</a></li>
            <li><a href="#" class="block py-1 hover:text-blue-600">MacBooks</a></li>
            <li><a href="#" class="block py-1 hover:text-blue-600">Gaming Laptops</a></li>
            <li><a href="#" class="block py-1 hover:text-blue-600">Business Laptops</a></li>
            <li><a href="#" class="block py-1 hover:text-blue-600">All-in-One PCs</a></li>
        </ul>

        <!-- 📌 Phones -->
        <li class="px-4 py-2 bg-gray-700 text-white font-semibold">Phones</li>
        <ul class="pl-6 text-gray-600">
            <li><a href="#" class="block py-1 hover:text-blue-600">Smartphones</a></li>
            <li><a href="#" class="block py-1 hover:text-blue-600">Tablets</a></li>
        </ul>

        <!-- 📌 Audio -->
        <li class="px-4 py-2 bg-gray-700 text-white font-semibold">Audio</li>
        <ul class="pl-6 text-gray-600">
            <li><a href="#" class="block py-1 hover:text-blue-600">Wireless Earbuds</a></li>
            <li><a href="#" class="block py-1 hover:text-blue-600">Over-Ear Headphones</a></li>
            <li><a href="#" class="block py-1 hover:text-blue-600">Bluetooth Speakers</a></li>
            <li><a href="#" class="block py-1 hover:text-blue-600">Home Theater Systems</a></li>
            <li><a href="#" class="block py-1 hover:text-blue-600">Soundbars</a></li>
        </ul>

        <!-- 📌 Televisions -->
        <li class="px-4 py-2 bg-gray-700 text-white font-semibold">Televisions</li>
        <ul class="pl-6 text-gray-600">
            <li><a href="#" class="block py-1 hover:text-blue-600">Smart TVs</a></li>
            <li><a href="#" class="block py-1 hover:text-blue-600">4K Ultra HD TVs</a></li>
            <li><a href="#" class="block py-1 hover:text-blue-600">Projectors</a></li>
            <li><a href="#" class="block py-1 hover:text-blue-600">LED TVs</a></li>
        </ul>

        <!-- 📌 Power & Batteries -->
        <li class="px-4 py-2 bg-gray-700 text-white font-semibold">Power & Batteries</li>
        <ul class="pl-6 text-gray-600">
            <li><a href="#" class="block py-1 hover:text-blue-600">Power Banks</a></li>
            <li><a href="#" class="block py-1 hover:text-blue-600">Rechargeable Batteries</a></li>
            <li><a href="#" class="block py-1 hover:text-blue-600">Solar Chargers</a></li>
            <li><a href="#" class="block py-1 hover:text-blue-600">UPS & Surge Protectors</a></li>
        </ul>

        <!-- 📌 Cameras -->
        <li class="px-4 py-2 bg-gray-700 text-white font-semibold">Cameras</li>
        <ul class="pl-6 text-gray-600">
            <li><a href="#" class="block py-1 hover:text-blue-600">DSLR Cameras</a></li>
            <li><a href="#" class="block py-1 hover:text-blue-600">Mirrorless Cameras</a></li>
            <li><a href="#" class="block py-1 hover:text-blue-600">Camera Lenses</a></li>
            <li><a href="#" class="block py-1 hover:text-blue-600">Tripods & Mounts</a></li>
            <li><a href="#" class="block py-1 hover:text-blue-600">Memory Cards</a></li>
        </ul>

        <!-- 📌 Storage -->
        <li class="px-4 py-2 bg-gray-700 text-white font-semibold">Storage</li>
        <ul class="pl-6 text-gray-600">
            <li><a href="#" class="block py-1 hover:text-blue-600">External Hard Drives</a></li>
            <li><a href="#" class="block py-1 hover:text-blue-600">SSDs & Hard disks</a></li>
            <li><a href="#" class="block py-1 hover:text-blue-600">Flash Drives</a></li>
        </ul>

        <!-- 📌 Networking -->
        <li class="px-4 py-2 bg-gray-700 text-white font-semibold">Networking</li>
        <ul class="pl-6 text-gray-600">
            <li><a href="#" class="block py-1 hover:text-blue-600">Routers</a></li>
            <li><a href="#" class="block py-1 hover:text-blue-600">Modems</a></li>
            <li><a href="#" class="block py-1 hover:text-blue-600">Network Switches</a></li>
            <li><a href="#" class="block py-1 hover:text-blue-600">Wi-Fi Extenders</a></li>
            <li><a href="#" class="block py-1 hover:text-blue-600">Network Cables</a></li>
        </ul>
    </ul>
</aside>



<!-- 📌 Floating Button for Categories -->
<button id="toggleCategories" class="fixed top-14 left-8 bg-blue-600 text-white px-4 py-2 border border-gray-300 rounded-full shadow-md transition-all duration-300 z-50 lg:hidden">
    <i class="fas fa-list"></i>
</button>

<!-- 📌 JavaScript for Sidebar -->
<script>
    document.addEventListener("DOMContentLoaded", function () {
        const toggleCategories = document.getElementById("toggleCategories");
        const categoriesSidebar = document.getElementById("categoriesSidebar");
    
        // ✅ Toggle Sidebar on Button Click
        toggleCategories.addEventListener("click", function () {
            categoriesSidebar.classList.toggle("-translate-x-full");
    
            if (categoriesSidebar.classList.contains("-translate-x-full")) {
                toggleCategories.style.left = "10px";
            } else {
                toggleCategories.style.left = "270px";
            }
        });
    
        // ✅ Redirect on Clicking Categories
        document.addEventListener("click", function (event) {
            if (event.target.classList.contains("product-link")) {
                event.preventDefault();
                window.location.href = event.target.getAttribute("href");
            }
        });
    });
    </script>
    


<section class="relative bg-white min-h-screen flex flex-col justify-center items-center px-6 text-center pt-28">
    <!-- ✅ Light Background Texture for Depth -->
    <div class="absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/asfalt-light.png')] opacity-10"></div>

    <!-- ✅ Main Content Section -->
    <div class="relative max-w-5xl space-y-6 px-4">
        <h1 class="text-4xl sm:text-4xl md:text-4xl lg:text-6xl font-extrabold text-gray-900 leading-tight tracking-wide uppercase">
            The Future of Sound.
        </h1>

    </div>

    <!-- ✅ Main Product Image -->
    <div class="mt-10 max-w-3xl md:max-w-4xl relative">
        <img src="https://cdn-img.oraimo.com/2025/01/14/1920-820.jpg" 
             alt="Premium Headphones" 
             class="w-full rounded-lg shadow-lg">
    </div>
    <p class="text-lg sm:text-xl md:text-2xl lg:text-3xl text-gray-600">
        Next-Gen Noise Cancellation & 50 Hours of Pure Audio Bliss.
    </p>
            <!-- 🛒 Call to Action -->
            <div class="mt-6">
                <a href="#" class="px-6 sm:px-8 md:px-10 py-4 sm:py-5 bg-black text-white rounded-full text-lg sm:text-xl md:text-2xl font-semibold shadow-lg transition hover:scale-105">
                    🎧 Get Yours Now
                </a>
            </div>

<!-- ✅ Large Image Product Showcase -->
<div class="mt-12 grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-6 px-6">

    <!-- 🎧 Oraimo BoomBass 930N -->
    <div class="relative group text-center">
        <h3 class="text-xl font-semibold text-gray-900 mb-2">Oraimo BoomBass 930N</h3>
        <img src="https://cdn-img.oraimo.com/fit-in/600x600/KE/product/2025/01/13/OTW-930-821N.png" 
             alt="Oraimo BoomBass 930N" 
             class="w-full rounded-lg shadow-lg transition transform hover:scale-105">
    </div>

    <!-- 🔊 Oraimo AirBuds Pro 340 -->
    <div class="relative group text-center">
        <h3 class="text-xl font-semibold text-gray-900 mb-2">Oraimo AirBuds Pro 340</h3>
        <img src="https://cdn-img.oraimo.com/fit-in/600x600/AE/product/2024/02/06/OTW-340-680-1.png" 
             alt="Oraimo AirBuds Pro 340" 
             class="w-full rounded-lg shadow-lg transition transform hover:scale-105">
    </div>

    <!-- 🎧 Oraimo SoundPro 610 -->
    <div class="relative group text-center">
        <h3 class="text-xl font-semibold text-gray-900 mb-2">Oraimo SoundPro 610</h3>
        <img src="https://cdn-img.oraimo.com/fit-in/360x360/NG/album/ohp-610/ohp-610-black.png" 
             alt="Oraimo SoundPro 610" 
             class="w-full rounded-lg shadow-lg transition transform hover:scale-105">
    </div>

    <!-- 🎶 Oraimo BassBoost 105D -->
    <div class="relative group text-center">
        <h3 class="text-xl font-semibold text-gray-900 mb-2">Oraimo BassBoost 105D</h3>
        <img src="https://cdn-img.oraimo.com/fit-in/360x360/KE/product/2024/11/29/105D.png" 
             alt="Oraimo BassBoost 105D" 
             class="w-full rounded-lg shadow-lg transition transform hover:scale-105">
    </div>

    <!-- 🔋 Oraimo PowerBeats 5028 -->
    <div class="relative group text-center">
        <h3 class="text-xl font-semibold text-gray-900 mb-2">Oraimo PowerBeats 5028</h3>
        <img src="https://cdn-img.oraimo.com/fit-in/360x360/KE/product/2024/11/16/IMG_5028.png" 
             alt="Oraimo PowerBeats 5028" 
             class="w-full rounded-lg shadow-lg transition transform hover:scale-105">
    </div>

</div>

</section>

<!-- ✅ Sound Collection Categories Section -->
<section class="mt-12 px-6 text-center">
    <h2 class="text-3xl font-bold text-gray-900">🔊 Discover the Ultimate Sound Experience</h2>
    <p class="text-gray-600 mt-2">Choose from the best sound solutions for your lifestyle.</p>

    <div class="mt-8 grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-6">
        
        <!-- Wireless Earbuds -->
        <div class="group">
            <a href="#" class="block">
                <img src="https://hips.hearstapps.com/hmg-prod/images/connect-wireless-earbuds-1665175548.jpg?crop=0.668xw:1.00xh;0.105xw,0&resize=640:*" 
                     alt="Wireless Earbuds" 
                     class="rounded-lg shadow-lg w-full transition transform hover:scale-105">
                <h3 class="text-lg font-semibold text-gray-900 mt-3 group-hover:text-green-600 transition">
                    Wireless Earbuds
                </h3>
            </a>
        </div>

        <!-- Over-Ear Headphones -->
        <div class="group">
            <a href="#" class="block">
                <img src="https://cdn-img.oraimo.com/fit-in/600x600/TZ/product/2023/12/13/OHP-610-680-4.jpg" 
                     alt="Over-Ear Headphones" 
                     class="rounded-lg shadow-lg w-full transition transform hover:scale-105">
                <h3 class="text-lg font-semibold text-gray-900 mt-3 group-hover:text-green-600 transition">
                    Over-Ear Headphones
                </h3>
            </a>
        </div>

        <!-- Bluetooth Speakers -->
        <div class="group">
            <a href="#" class="block">
                <img src="https://ke.jumia.is/unsafe/fit-in/500x500/filters:fill(white)/product/25/0978551/1.jpg?0775" 
                     alt="Bluetooth Speakers" 
                     class="rounded-lg shadow-lg w-full transition transform hover:scale-105">
                <h3 class="text-lg font-semibold text-gray-900 mt-3 group-hover:text-green-600 transition">
                    Bluetooth Speakers
                </h3>
            </a>
        </div>

        <!-- Home Theater Systems -->
        <div class="group">
            <a href="#" class="block">
                <img src="https://vistashop.co.ke/wp-content/uploads/2024/07/16941963419516073630b5a004e02810c303cae4850f9.webp" 
                     alt="Home Theater Systems" 
                     class="rounded-lg shadow-lg w-full transition transform hover:scale-105">
                <h3 class="text-lg font-semibold text-gray-900 mt-3 group-hover:text-green-600 transition">
                    Home Theater Systems
                </h3>
            </a>
        </div>

        <!-- Soundbars -->
        <div class="group">
            <a href="#" class="block">
                <img src="https://ke.jumia.is/unsafe/fit-in/300x300/filters:fill(white)/product/14/5612952/1.jpg?9101" 
                     alt="Soundbars" 
                     class="rounded-lg shadow-lg w-full transition transform hover:scale-105">
                <h3 class="text-lg font-semibold text-gray-900 mt-3 group-hover:text-green-600 transition">
                    Soundbars
                </h3>
            </a>
        </div>

    </div>
</section>



<!-- ✅ Shop by Purpose Section -->
<section class="mt-12 px-6">
    <h2 class="text-3xl font-bold text-center text-gray-900 mb-8">Shop by Purpose</h2>
    
    <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6">
        
        <!-- 🎧 Work & Productivity -->
        <div class="relative group rounded-lg overflow-hidden shadow-lg hover:shadow-xl transition">
            <img src="https://images.pexels.com/photos/3184312/pexels-photo-3184312.jpeg" 
                 alt="Work & Productivity" 
                 class="w-full h-60 object-cover transition-transform group-hover:scale-105">
            <div class="absolute inset-0 bg-black bg-opacity-40 flex flex-col items-center justify-center text-white p-4">
                <h3 class="text-lg font-semibold">Work & Productivity</h3>
                <p class="text-sm text-center mt-1">Laptops, Wireless Keyboards, Noise-Canceling Headphones</p>
                <a href="#" class="mt-3 px-4 py-2 bg-white text-black rounded-lg text-sm font-bold hover:bg-gray-200">Shop Now</a>
            </div>
        </div>

        <!-- 🎮 Gaming & Entertainment -->
        <div class="relative group rounded-lg overflow-hidden shadow-lg hover:shadow-xl transition">
            <img src="https://images.pexels.com/photos/3165335/pexels-photo-3165335.jpeg" 
                 alt="Gaming & Entertainment" 
                 class="w-full h-60 object-cover transition-transform group-hover:scale-105">
            <div class="absolute inset-0 bg-black bg-opacity-40 flex flex-col items-center justify-center text-white p-4">
                <h3 class="text-lg font-semibold">Gaming & Entertainment</h3>
                <p class="text-sm text-center mt-1">Gaming Headsets, 4K Monitors, VR Headsets</p>
                <a href="#" class="mt-3 px-4 py-2 bg-white text-black rounded-lg text-sm font-bold hover:bg-gray-200">Shop Now</a>
            </div>
        </div>

        <!-- ✈️ Travel & Portability -->
        <div class="relative group rounded-lg overflow-hidden shadow-lg hover:shadow-xl transition">
            <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTJZhztjT0i30NPl4R7hXSHTCPT0jKVoe4VCw&s" 
                 alt="Travel & Portability" 
                 class="w-full h-60 object-cover transition-transform group-hover:scale-105">
            <div class="absolute inset-0 bg-black bg-opacity-40 flex flex-col items-center justify-center text-white p-4">
                <h3 class="text-lg font-semibold">Travel & Portability</h3>
                <p class="text-sm text-center mt-1">Wireless Earbuds, Power Banks, Bluetooth Speakers</p>
                <a href="#" class="mt-3 px-4 py-2 bg-white text-black rounded-lg text-sm font-bold hover:bg-gray-200">Shop Now</a>
            </div>
        </div>

        <!-- 🏡 Home & Smart Living -->
        <div class="relative group rounded-lg overflow-hidden shadow-lg hover:shadow-xl transition">
            <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcT97hs8QPIiHyQayxLrAWObUCJBvwxkC4Xdfw&s" 
                 alt="Home & Smart Living" 
                 class="w-full h-60 object-cover transition-transform group-hover:scale-105">
            <div class="absolute inset-0 bg-black bg-opacity-40 flex flex-col items-center justify-center text-white p-4">
                <h3 class="text-lg font-semibold">Home & Smart Living</h3>
                <p class="text-sm text-center mt-1">Smart TVs, Home Theaters, Security Cameras</p>
                <a href="#" class="mt-3 px-4 py-2 bg-white text-black rounded-lg text-sm font-bold hover:bg-gray-200">Shop Now</a>
            </div>
        </div>

        <!-- 🏃 Fitness & Sports -->
        <div class="relative group rounded-lg overflow-hidden shadow-lg hover:shadow-xl transition">
            <img src="https://images.pexels.com/photos/4429107/pexels-photo-4429107.jpeg" 
                 alt="Fitness & Sports" 
                 class="w-full h-60 object-cover transition-transform group-hover:scale-105">
            <div class="absolute inset-0 bg-black bg-opacity-40 flex flex-col items-center justify-center text-white p-4">
                <h3 class="text-lg font-semibold">Fitness & Sports</h3>
                <p class="text-sm text-center mt-1">Smartwatches, Sports Headphones, Fitness Trackers</p>
                <a href="#" class="mt-3 px-4 py-2 bg-white text-black rounded-lg text-sm font-bold hover:bg-gray-200">Shop Now</a>
            </div>
        </div>

    </div>
</section>

<!-- ✅ Top Picks by Category -->
<section class="mt-12 px-6 bg-[#009688] py-12 rounded-lg shadow-md">
    <h2 class="text-4xl font-extrabold text-center text-white mb-10 tracking-wide">🔥 Must-Have Phones by Category</h2>

    <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-8">

        <!-- 📷 Best Camera Phones -->
        <div class="relative group rounded-lg overflow-hidden shadow-lg hover:shadow-2xl transition bg-white p-5">
            <div class="flex justify-center">
                <img src="https://images.pexels.com/photos/1239291/pexels-photo-1239291.jpeg" 
                     alt="Best Camera Phones" 
                     class="w-3/4 h-48 object-cover transition-transform duration-300 group-hover:scale-110">
            </div>
            <div class="text-center mt-5">
                <h3 class="text-2xl font-bold text-gray-900">📷 Best Camera Phones</h3>
                <p class="text-md text-gray-700 mt-2">Capture <span class="font-semibold text-black">stunning shots</span> with pro-grade lenses.</p>
                <a href="#" class="mt-4 inline-block px-5 py-2 bg-gradient-to-r from-blue-500 to-blue-700 text-white text-md font-bold rounded-lg hover:opacity-90 transition-shadow shadow-md">Shop Now</a>
            </div>
        </div>

        <!-- 🔋 Longest Battery Life -->
        <div class="relative group rounded-lg overflow-hidden shadow-lg hover:shadow-2xl transition bg-white p-5">
            <div class="flex justify-center">
                <img src="https://images.pexels.com/photos/267394/pexels-photo-267394.jpeg" 
                     alt="Longest Battery Life" 
                     class="w-3/4 h-48 object-cover transition-transform duration-300 group-hover:scale-110">
            </div>
            <div class="text-center mt-5">
                <h3 class="text-2xl font-bold text-gray-900">🔋 Longest Battery Life</h3>
                <p class="text-md text-gray-700 mt-2">Stay powered all day with <span class="font-semibold text-black">massive batteries.</span></p>
                <a href="#" class="mt-4 inline-block px-5 py-2 bg-gradient-to-r from-green-500 to-green-700 text-white text-md font-bold rounded-lg hover:opacity-90 transition-shadow shadow-md">Shop Now</a>
            </div>
        </div>

        <!-- 🎮 Best Gaming Phones -->
        <div class="relative group rounded-lg overflow-hidden shadow-lg hover:shadow-2xl transition bg-white p-5">
            <div class="flex justify-center">
                <img src="https://images.pexels.com/photos/3945654/pexels-photo-3945654.jpeg" 
                     alt="Best Gaming Phones" 
                     class="w-3/4 h-48 object-cover transition-transform duration-300 group-hover:scale-110">
            </div>
            <div class="text-center mt-5">
                <h3 class="text-2xl font-bold text-gray-900">🎮 Best Gaming Phones</h3>
                <p class="text-md text-gray-700 mt-2">High refresh rates & <span class="font-semibold text-black">powerful processors.</span></p>
                <a href="#" class="mt-4 inline-block px-5 py-2 bg-gradient-to-r from-purple-500 to-purple-700 text-white text-md font-bold rounded-lg hover:opacity-90 transition-shadow shadow-md">Shop Now</a>
            </div>
        </div>

        <!-- 💎 Premium Flagships -->
        <div class="relative group rounded-lg overflow-hidden shadow-lg hover:shadow-2xl transition bg-white p-5">
            <div class="flex justify-center">
                <img src="https://images.pexels.com/photos/6078120/pexels-photo-6078120.jpeg" 
                     alt="Premium Flagships" 
                     class="w-3/4 h-48 object-cover transition-transform duration-300 group-hover:scale-110">
            </div>
            <div class="text-center mt-5">
                <h3 class="text-2xl font-bold text-gray-900">💎 Premium Flagships</h3>
                <p class="text-md text-gray-700 mt-2"><span class="font-semibold text-black">Elite design</span> with top-tier performance.</p>
                <a href="#" class="mt-4 inline-block px-5 py-2 bg-gradient-to-r from-red-500 to-red-700 text-white text-md font-bold rounded-lg hover:opacity-90 transition-shadow shadow-md">Shop Now</a>
            </div>
        </div>

        <!-- 💰 Best Budget Phones -->
        <div class="relative group rounded-lg overflow-hidden shadow-lg hover:shadow-2xl transition bg-white p-5">
            <div class="flex justify-center">
                <img src="https://images.pexels.com/photos/3755921/pexels-photo-3755921.jpeg" 
                     alt="Best Budget Phones" 
                     class="w-3/4 h-48 object-cover transition-transform duration-300 group-hover:scale-110">
            </div>
            <div class="text-center mt-5">
                <h3 class="text-2xl font-bold text-gray-900">💰 Best Budget Phones</h3>
                <p class="text-md text-gray-700 mt-2">Affordable yet <span class="font-semibold text-black">feature-packed.</span></p>
                <a href="#" class="mt-4 inline-block px-5 py-2 bg-gradient-to-r from-orange-500 to-orange-700 text-white text-md font-bold rounded-lg hover:opacity-90 transition-shadow shadow-md">Shop Now</a>
            </div>
        </div>

    </div>
</section>

<div class="bg-gradient-to-r from-blue-500 to-blue-600 text-white flex justify-between items-center px-4 py-2 shadow-md rounded-lg">
  
    <!-- 🚀 Top Deals Section -->
    <div class="text-center">
      <h1 class="hidden lg:flex md:flex text-xl font-bold p-2 text-white">
        🚀 Top Deals on Phones | 
        <span class="text-yellow-300">Up to 40% Off</span>
      </h1> 
      <h1 class="md:hidden flex font-bold text-md">🚀 Top Deals on Phones</h1>
      <h2 class="md:hidden flex font-semibold text-sm text-yellow-300">Up to 40% Off</h2>
    </div>
  
    <!-- 🔗 See All Link -->
    <a href="#" class="text-white hover:underline text-sm flex items-center font-semibold transition-transform transform hover:scale-105">
      SEE ALL &gt;
    </a>
  </div>
  

<section class="mt-10">
  <div class="swiper-container relative">
      <div id="smartphones-list" class="swiper-wrapper"></div>
      <div class="swiper-pagination"></div>
  </div>
</section>

<script>
document.addEventListener("DOMContentLoaded", function () {
    const products = JSON.parse(localStorage.getItem("productData")) || {};
    const smartphonesList = document.getElementById("smartphones-list");

    // ✅ Possible labels for variety
    const labels = ["🌟 Best Seller", "🔥 Hot Deal", "✨ New Arrival", "💎 Exclusive", "🚀 Trending Now", "⏳ Limited Stock"];

    // ✅ Predefined color classes (Tailwind-compatible)
    const colorClasses = ["bg-pink-500", "bg-cyan-500", "bg-purple-500", "bg-green-500", "bg-blue-500", "bg-yellow-500"];

    function getRandomLabel() {
        return labels[Math.floor(Math.random() * labels.length)];
    }

    function getRandomColorClass() {
        return colorClasses[Math.floor(Math.random() * colorClasses.length)];
    }

    if (!products.smartphones || products.smartphones.length === 0) {
        smartphonesList.innerHTML = "<p class='text-gray-500 text-center'>No smartphones available.</p>";
        return;
    }

    smartphonesList.innerHTML = products.smartphones
        .map(product => {
            const randomColorClass = getRandomColorClass();
            return `
                <div class="swiper-slide bg-white shadow-lg rounded-lg p-4 flex flex-col justify-between relative">
                    
                    <!-- ✅ Cute & Visible Dynamic Labels -->
                    <span class="absolute top-2 left-2 ${randomColorClass} text-white text-xs font-bold px-3 py-1 rounded-full shadow-md">
                        ${getRandomLabel()}
                    </span>

                    <!-- ✅ Clickable Product (Image, Name, Price) -->
                    <div class="cursor-pointer product-clickable flex flex-col items-center" data-id="${product.id}">
                        <img src="${product.image}" alt="${product.name}" 
                             class="w-3/4 max-h-40 object-contain transition-transform duration-300 hover:scale-105">
                        <h3 class="font-bold text-lg mt-2 text-gray-800">${product.name}</h3>
                        <div class="text-red-500 text-2xl font-bold">    
                            <span class="underline">Ksh ${product.price.toLocaleString()}</span> 
                            ${product.was ? `<span class="line-through text-gray-400 text-base ml-2">Ksh ${product.was.toLocaleString()}</span>` : ""}
                        </div>
                    </div>

                    <!-- ✅ Buttons Section (WhatsApp & Order Now) -->
                    <div class="p-4 bg-gray-100 flex flex-col sm:flex-row justify-between gap-3 mt-3">
                        
                        <!-- WhatsApp Button -->
                        <a href="https://wa.me/+254742606408?text=Hi!%20I'm%20interested%20in%20${product.name}%20for%20Ksh${product.price}.%20Can%20you%20please%20provide%20more%20details%20about%20availability,%20payment%20options,%20and%20delivery%3F"
                           data-name="${product.name}" data-price="${product.price}"
                           class="bg-green-500 hover:bg-green-600 text-white text-sm px-5 py-2 rounded-lg flex items-center justify-center w-full sm:w-auto">
                           <i class="fab fa-whatsapp text-lg"></i> 
                           <span class="ml-2">Buy on WhatsApp</span>
                        </a>

                        <!-- Order Now Button -->
                        <button class="add-to-cart-btn bg-orange-500 hover:bg-orange-600 text-white text-sm px-5 py-2 rounded-lg flex items-center justify-center w-full sm:w-auto"
                                data-name="${product.name}" data-price="${product.price}">
                            <i class="fas fa-shopping-bag text-lg"></i>
                            <span class="ml-2">Order Now</span>
                        </button>
                    </div>
                </div>
            `;
        })
        .join('');

    // ✅ Make only the image, title, or price clickable for product details
    document.querySelectorAll(".product-clickable").forEach(element => {
        element.addEventListener("click", function () {
            const productId = this.getAttribute("data-id");
            localStorage.setItem("selectedProduct", JSON.stringify({ id: productId, category: "smartphones" }));
            window.location.href = `./product/?product=${productId}`;
        });
    });

});

 </script>

<!-- ✅ Accessories Collection Section (With Working Images) -->
<section class="mt-12 px-6 text-center">
    <h2 class="text-3xl font-bold text-gray-900">🛠️ Must-Have Accessories for Your Tech</h2>
    <p class="text-gray-600 mt-2">Upgrade your setup with the best accessories available.</p>

    <div class="mt-8 grid grid-cols-2 sm:grid-cols-3 md:grid-cols-3 lg:grid-cols-5 gap-6">
        
        <!-- 📸 Camera Gear -->
        <div class="group">
            <a href="#" class="block">
                <img src="https://ke.jumia.is/unsafe/fit-in/500x500/filters:fill(white)/product/62/5074372/1.jpg?5578                                                                                                                                                       "
                     alt="Camera Gear" 
                     class="rounded-lg shadow-lg w-full transition transform hover:scale-105">
                <h3 class="text-lg font-semibold text-gray-900 mt-3 group-hover:text-red-600 transition">
                    Camera Gear
                </h3>
                <p class="text-sm text-gray-600">DSLRs, Mirrorless, Lenses & More</p>
            </a>
        </div>

        <!-- 🖱️ Computer Peripherals -->
        <div class="group">
            <a href="#" class="block">
                <img src="https://m.media-amazon.com/images/I/61Ebp3VKsRL.jpg" 
                     alt="Computer Peripherals" 
                     class="rounded-lg shadow-lg w-full transition transform hover:scale-105">
                <h3 class="text-lg font-semibold text-gray-900 mt-3 group-hover:text-blue-600 transition">
                    Computer Peripherals
                </h3>
                <p class="text-sm text-gray-600">Keyboards, Mice, Webcams & More</p>
            </a>
        </div>

        <!-- 💼 Laptop Essentials -->
        <div class="group">
            <a href="#" class="block">
                <img src="https://www.digitalstore.co.ke/cdn/shop/files/Ugreen5In1LaptopStandDockingStation_CM359_-i5_800x.jpg?v=1699015403" 
                     alt="Laptop Essentials" 
                     class="rounded-lg shadow-lg w-full transition transform hover:scale-105">
                <h3 class="text-lg font-semibold text-gray-900 mt-3 group-hover:text-green-600 transition">
                    Laptop Essentials
                </h3>
                <p class="text-sm text-gray-600">Laptop Bags, Cooling Pads & Docking Stations</p>
            </a>
        </div>

        <!-- 🎥 Mounts & Tripods -->
        <div class="group">
            <a href="#" class="block">
                <img src="https://i.ebayimg.com/images/g/OEcAAOSwp-9g9P9e/s-l1200.jpg" 
                     alt="Mounts & Tripods" 
                     class="rounded-lg shadow-lg w-full transition transform hover:scale-105">
                <h3 class="text-lg font-semibold text-gray-900 mt-3 group-hover:text-purple-600 transition">
                    Mounts & Tripods
                </h3>
                <p class="text-sm text-gray-600">Tripods, Mounts & Stabilizers</p>
            </a>
        </div>

        <!-- 💾 Storage & Memory -->
        <div class="group">
            <a href="#" class="block">
                <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSfG7hUbZuQeZ1K0_R_oSCutc2yj_dUPNhUxg&s" 
                     alt="Storage & Memory" 
                     class="rounded-lg shadow-lg w-full transition transform hover:scale-105">
                <h3 class="text-lg font-semibold text-gray-900 mt-3 group-hover:text-orange-600 transition">
                    Storage & Memory
                </h3>
                <p class="text-sm text-gray-600">Memory Cards & External Storage</p>
            </a>
        </div>

    </div>
</section>
 

<!-- flash sale section -->
<div class="bg-red-500 text-white flex justify-between items-center px-2 py-2">
  <!-- Flash Sales Section -->
  <div class="flex items-center">
    <img src="" alt="" class="h-5 mr-2">
    <span class="font-bold text-lg mr-10">Flash Sales</span>
  </div>

  <!-- Countdown Timer -->
  <div class="text-center">
    <span>Time Left: </span>
    <span id="countdown" class="font-bold text-xm">01d : 09h : 40m</span>
  </div>

  <!-- See All Link -->
  <a href="#" class=" hidden text-white hover:underline text-md flex items-center mr-4">
    SEE ALL &gt;
  </a>
</div>

<!-- Swiper Container for Accessories -->
<div class="swiper-container relative">
  <div class="swiper-wrapper" id="accessories-list">
    <!-- Accessories will be dynamically inserted here via JavaScript -->
  </div>
</div>

<script>
  document.addEventListener("DOMContentLoaded", function () {
    const products = JSON.parse(localStorage.getItem("productData")) || {};
    const accessoriesList = document.getElementById("accessories-list");

    if (!accessoriesList) {
        console.error("❌ 'accessories-list' not found in HTML!");
        return;
    }

    if (!products.accessories || products.accessories.length === 0) {
        accessoriesList.innerHTML = "<p class='text-gray-500 text-center'>No accessories available.</p>";
        return;
    }

    // ✅ Dynamic Labels & Colors
    const labels = [
        { text: "Best Seller", color: "bg-red-500" },
        { text: "Limited Stock", color: "bg-yellow-500" },
        { text: "Hot Deal", color: "bg-blue-500" },
        { text: "New Arrival", color: "bg-green-500" },
        { text: "Trending Now", color: "bg-purple-500" },
        { text: "Exclusive", color: "bg-pink-500" }
    ];

    function getRandomLabel() {
        return labels[Math.floor(Math.random() * labels.length)];
    }

    accessoriesList.innerHTML = products.accessories
        .map(product => {
            const { text: labelText, color: labelColor } = getRandomLabel(); // Get a random label & color

            return `
                <div class="swiper-slide bg-white shadow-lg rounded-lg p-4 flex flex-col justify-between relative">
                    <!-- ✅ Dynamic Label with Random Color -->
                    <span class="${labelColor} text-white text-xs font-bold px-3 py-1 rounded-full absolute top-2 left-2">
                        ${labelText}
                    </span>

                    <!-- ✅ Clickable Product (Image, Name, Price) -->
                    <div class="cursor-pointer product-clickable flex flex-col items-center" data-id="${product.id}">
                        <img src="${product.image}" alt="${product.name}" class="w-3/4 max-h-40 object-contain transition-transform duration-300 hover:scale-105">
                        <h3 class="font-bold text-lg mt-2 text-gray-800">${product.name}</h3>
                        <div class="text-green-500 text-xl font-bold">
                            <span class="underline">Ksh ${product.price.toLocaleString()}</span>
                            ${product.was ? `<span class="line-through text-gray-400 text-base ml-2">Ksh ${product.was.toLocaleString()}</span>` : ""}
                        </div>
                    </div>

                    <!-- ✅ Buttons Section (WhatsApp & Add to Cart) -->
                    <div class="p-4 bg-gray-100 flex flex-col sm:flex-row justify-between gap-3 mt-3">
                        <!-- WhatsApp Button -->
                        <a href="https://wa.me/+254742606408?text=I'm%20interested%20in%20${product.name}"
                           class="bg-green-500 hover:bg-green-600 text-white text-sm px-5 py-2 rounded-lg flex items-center justify-center w-full sm:w-auto">
                            <i class="fab fa-whatsapp text-lg"></i> 
                            <span class="ml-2">Buy on WhatsApp</span>
                        </a>

                        <!-- Add to Cart Button -->
                        <button class="add-to-cart-btn bg-blue-500 hover:bg-blue-600 text-white text-sm px-5 py-2 rounded-lg flex items-center justify-center w-full sm:w-auto"
                                data-name="${product.name}" data-price="${product.price}">
                            <i class="fas fa-shopping-cart text-lg"></i>
                            <span class="ml-2">Add to Cart</span>
                        </button>
                    </div>
                </div>
            `;
        })
        .join('');

    // ✅ Clicking a product redirects to its details page
    document.querySelectorAll(".product-clickable").forEach(product => {
        product.addEventListener("click", function () {
            const productId = this.getAttribute("data-id");
            window.location.href = `./product/?product=${productId}`;
        });
    });
});

</script>

<!-- Swiper.js & JavaScript for Responsiveness -->
<script>
  document.addEventListener("DOMContentLoaded", function () {
    var swiper = new Swiper(".swiper-container", {
      slidesPerView: 2,
      spaceBetween: 10,
      loop: true,
      pagination: {
        el: ".swiper-pagination",
        clickable: true,
      },
      navigation: {
        nextEl: ".swiper-button-next",
        prevEl: ".swiper-button-prev",
      },
      breakpoints: {
        640: {
          slidesPerView: 2,
          spaceBetween: 20,
        },
        768: {
          slidesPerView: 3,
          spaceBetween: 30,
        },
        1024: {
          slidesPerView: 4,
          spaceBetween: 40,
        },
      },
    });
  });
</script>

<!-- ✅ Televisions & Video Collection Section -->
<section class="mt-12 px-6 text-center">
    <h2 class="text-3xl font-bold text-gray-900">📺 Upgrade Your Viewing Experience</h2>
    <p class="text-gray-600 mt-2">Discover the best in television and video technology.</p>

    <div class="mt-8 grid grid-cols-2 sm:grid-cols-3 md:grid-cols-3 lg:grid-cols-5 gap-6">
        
        <!-- 📡 Smart TVs -->
        <div class="group">
            <a href="#" class="block">
                <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRi3Fb__nhzgqZDo9noIjgwLfDbfOrGpOXuYw&s" 
                     alt="Smart TVs" 
                     class="rounded-lg shadow-lg w-full transition transform hover:scale-105">
                <h3 class="text-lg font-semibold text-gray-900 mt-3 group-hover:text-red-600 transition">
                    Smart TVs
                </h3>
                <p class="text-sm text-gray-600">Enjoy streaming, apps & voice control.</p>
            </a>
        </div>

        <!-- 🎥 4K Ultra HD TVs -->
        <div class="group">
            <a href="#" class="block">
                <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRvuk4zUdhEMjeW1ZpQ6yeOQLHuqtvWJ_3faw&s" 
                     alt="4K Ultra HD TVs" 
                     class="rounded-lg shadow-lg w-full transition transform hover:scale-105">
                <h3 class="text-lg font-semibold text-gray-900 mt-3 group-hover:text-blue-600 transition">
                    4K Ultra HD TVs
                </h3>
                <p class="text-sm text-gray-600">Stunning clarity and lifelike colors.</p>
            </a>
        </div>

        <!-- 🔆 LED TVs -->
        <div class="group">
            <a href="#" class="block">
                <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSvmedCpduyW_OwcJYbjoBpw1OwdgZ3pKiB-g&s" 
                     alt="LED TVs" 
                     class="rounded-lg shadow-lg w-full transition transform hover:scale-105">
                <h3 class="text-lg font-semibold text-gray-900 mt-3 group-hover:text-green-600 transition">
                    LED TVs
                </h3>
                <p class="text-sm text-gray-600">Bright and energy-efficient displays.</p>
            </a>
        </div>

        <!-- 📽️ Projectors -->
        <div class="group">
            <a href="#" class="block">
                <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQ1JS-PTRGEjbZ52vpNpp1lKK60WVmF-JNV7Q&s" 
                     alt="Projectors" 
                     class="rounded-lg shadow-lg w-full transition transform hover:scale-105">
                <h3 class="text-lg font-semibold text-gray-900 mt-3 group-hover:text-purple-600 transition">
                    Projectors
                </h3>
                <p class="text-sm text-gray-600">Transform any space into a theater.</p>
            </a>
        </div>

        <!-- 🔌 TV Accessories -->
        <div class="group">
            <a href="#" class="block">
                <img src="https://hisenseke.co.ke/wp-content/uploads/2025/01/Untitled-design-92.jpg" 
                     alt="TV Accessories" 
                     class="rounded-lg shadow-lg w-full transition transform hover:scale-105">
                <h3 class="text-lg font-semibold text-gray-900 mt-3 group-hover:text-orange-600 transition">
                    TV Accessories
                </h3>
                <p class="text-sm text-gray-600">Mounts, remotes, cables & more.</p>
            </a>
        </div>

    </div>
</section>


  
<section>
    <h2 class="text-md sm:text-2xl md:text-2xl lg:text-2xl font-bold p-3 bg-[#1E3A8A] text-white sm:text-center rounded-md">
        🚀 New Arrivals | Premium Laptops
    </h2>

<!-- Laptop Categories (Refined with Real Images) -->
<div class="flex flex-wrap justify-center gap-6 my-8">
    <button class="laptop-category active-tab bg-white shadow-md hover:shadow-xl transition-all rounded-lg p-4 flex flex-col items-center cursor-pointer"
         data-category="all">
        <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRHgZ0zDdE71h3tXaC2qUp9rtG9qGO-5mOYsw&s" alt="All Laptops" class="w-32 h-24 object-cover rounded-lg">
        <span class="mt-2 text-gray-800 font-semibold text-sm sm:text-base">All Laptops</span>
</button>
    
    <button class="laptop-category bg-white shadow-md hover:shadow-xl transition-all rounded-lg p-4 flex flex-col items-center cursor-pointer"
         data-category="dell">
        <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcREZ7w4gR7Pop0EYQfOKAJrWCwuIIJXOePhrw&s" alt="Dell Laptops" class="w-32 h-24 object-cover rounded-lg">
        <span class="mt-2 text-gray-800 font-semibold text-sm sm:text-base">Dell</span>
</button>
    
    <div class="category-thumbnail bg-white shadow-md hover:shadow-xl transition-all rounded-lg p-4 flex flex-col items-center cursor-pointer"
         data-category="hp">
        <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTE2gG01CAWfOgN6LOnkI5Vdm5Rk3Vdtoqb0A&s" alt="HP Laptops" class="w-32 h-24 object-cover rounded-lg">
        <span class="mt-2 text-gray-800 font-semibold text-sm sm:text-base">HP</span>
    </div>
    
    <div class="category-thumbnail bg-white shadow-md hover:shadow-xl transition-all rounded-lg p-4 flex flex-col items-center cursor-pointer"
         data-category="macbook">
        <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTUIT1yt5Hql-AoNXSpwIeoULcRPIPBCZ0lvA&s" alt="MacBooks" class="w-32 h-24 object-cover rounded-lg">
        <span class="mt-2 text-gray-800 font-semibold text-sm sm:text-base">MacBooks</span>
    </div>
    
    <div class="category-thumbnail bg-white shadow-md hover:shadow-xl transition-all rounded-lg p-4 flex flex-col items-center cursor-pointer"
         data-category="gaming">
        <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRG8lHoB6yglsIV1NMbssjW1CcI4aJ3PJITIg&s" alt="Gaming Laptops" class="w-32 h-24 object-cover rounded-lg">
        <span class="mt-2 text-gray-800 font-semibold text-sm sm:text-base">Gaming</span>
    </div>
    
    <div class="category-thumbnail bg-white shadow-md hover:shadow-xl transition-all rounded-lg p-4 flex flex-col items-center cursor-pointer"
         data-category="business">
        <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSduvliweQjYHOw3-HJoS0SjNWMv_ZLOewROw&s" alt="Business Laptops" class="w-32 h-24 object-cover rounded-lg">
        <span class="mt-2 text-gray-800 font-semibold text-sm sm:text-base">Business</span>
    </div>
</div>

    <!-- Laptop List -->
    <div id="laptops-list" class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6">
        <!-- Laptops will be inserted dynamically -->
    </div>
</section>

<script>
  // ✅ Render Laptops in HTML
function renderLaptops() {
    const laptopContainer = document.getElementById("laptops-list");

    if (!products.laptops || products.laptops.length === 0) {
        laptopContainer.innerHTML = "<p class='text-gray-500 text-center'>No laptops available.</p>";
        return;
    }

    laptopContainer.innerHTML = products.laptops
        .map((product, index) => `
            <div class="bg-gradient-to-br from-white to-gray-100 shadow-md rounded-xl overflow-hidden transform transition-all hover:scale-105 hover:shadow-xl cursor-pointer laptop-clickable"
     data-id="${product.id}">
    <div class="relative">
        <img src="${product.image}" alt="${product.name}" 
             class="w-full h-52 object-contain p-4 transition-transform duration-300 hover:scale-110">
    </div>

    <div class="p-5 text-center">
        <h3 class="text-lg md:text-xl font-semibold text-gray-800 mb-2">${product.name}</h3>
        <div class="text-transparent bg-clip-text bg-gradient-to-r from-red-500 to-red-700 text-2xl font-extrabold">
            <span class="underline">Ksh ${product.price.toLocaleString()}</span> 
            ${product.was ? `<span class="line-through text-gray-400 text-sm ml-2">Ksh ${product.was.toLocaleString()}</span>` : ""}
        </div>
    </div>

    <div class="p-5 bg-gray-100 flex sm:justify-between sm:items-center flex-col sm:flex-row gap-3">
        <a href="https://wa.me/+254742606408?text=I'm%20interested%20in%20${product.name}" 
           class="whatsapp-btn flex items-center justify-center bg-gradient-to-r from-green-500 to-green-600 text-white text-sm px-5 py-2 rounded-lg shadow-md hover:from-green-600 hover:to-green-700 hover:shadow-lg transition-all duration-300">
            <i class="fab fa-whatsapp mr-2"></i> Buy on WhatsApp
        </a>

        <button class="add-to-cart-btn flex items-center justify-center bg-gradient-to-r from-blue-500 to-blue-600 text-white text-sm px-5 py-2 rounded-lg shadow-md hover:from-blue-600 hover:to-blue-700 hover:shadow-lg transition-all duration-300"
                data-name="${product.name}" data-price="${product.price}">
            <i class="fas fa-shopping-cart mr-2"></i> Add to Cart
        </button>
    </div>
</div>

        `)
        .join('');

    // ✅ Attach Click Events for Laptops
    attachLaptopClickEvents();
}

function attachLaptopClickEvents() {
    document.querySelectorAll(".laptop-clickable").forEach(element => {
        element.addEventListener("click", function (event) {
            // ✅ Prevent clicking inside buttons from opening product details
            if (event.target.closest("a") || event.target.closest("button")) {
                return; // Ignore clicks on buttons and links
            }

            const productId = this.getAttribute("data-id");
            localStorage.setItem("selectedProduct", JSON.stringify({ id: productId, category: "laptops" }));
            window.location.href = `./product/?product=${productId}`; // Redirect to product details page
        });
    });
}

// ✅ Render Laptops on Page Load
renderLaptops();
</script>

<!-- ✅ Power & Networking Essentials Collection Section -->
<section class="mt-12 px-6 text-center">
    <h2 class="text-3xl font-bold text-gray-900">⚡ Stay Powered & Connected</h2>
    <p class="text-gray-600 mt-2">Reliable power solutions and networking devices for uninterrupted performance.</p>

    <div class="mt-8 grid grid-cols-2 sm:grid-cols-3 md:grid-cols-3 lg:grid-cols-5 gap-6">
        
        <!-- 🔋 Power Banks -->
        <div class="group">
            <a href="#" class="block">
                <img src="https://brothers4change.com/cdn/shop/articles/1200x1200_a00b216c-3268-4df4-8824-3e7f37f52185.jpg?v=1681197565&width=1100" 
                     alt="Power Banks" 
                     class="rounded-lg shadow-lg w-full transition transform hover:scale-105">
                <h3 class="text-lg font-semibold text-gray-900 mt-3 group-hover:text-red-600 transition">
                    Power Banks
                </h3>
                <p class="text-sm text-gray-600">Fast-charging portable power solutions.</p>
            </a>
        </div>

        <!-- 🔌 UPS & Surge Protectors -->
        <div class="group">
            <a href="#" class="block">
                <img src="https://rondamo.co.ke/photok/621158.png" 
                     alt="UPS & Surge Protectors" 
                     class="rounded-lg shadow-lg w-full transition transform hover:scale-105">
                <h3 class="text-lg font-semibold text-gray-900 mt-3 group-hover:text-blue-600 transition">
                    UPS & Surge Protectors
                </h3>
                <p class="text-sm text-gray-600">Safeguard devices from power fluctuations.</p>
            </a>
        </div>

        <!-- ☀️ Solar Chargers -->
        <div class="group">
            <a href="#" class="block">
                <img src="https://dablew.pk/wp-content/uploads/2024/06/Buy-Choetech-36W-Foldable-Solar-Charger-in-Pakistan-at-Dab-Lew-Tech-1.jpg" 
                     alt="Solar Chargers" 
                     class="rounded-lg shadow-lg w-full transition transform hover:scale-105">
                <h3 class="text-lg font-semibold text-gray-900 mt-3 group-hover:text-green-600 transition">
                    Solar Chargers
                </h3>
                <p class="text-sm text-gray-600">Eco-friendly charging anytime, anywhere.</p>
            </a>
        </div>

        <!-- 📶 Wi-Fi Routers -->
        <div class="group">
            <a href="#" class="block">
                <img src="https://ke.jumia.is/unsafe/fit-in/500x500/filters:fill(white)/product/01/1001872/1.jpg?1951" 
                     alt="Wi-Fi Routers" 
                     class="rounded-lg shadow-lg w-full transition transform hover:scale-105">
                <h3 class="text-lg font-semibold text-gray-900 mt-3 group-hover:text-purple-600 transition">
                    Wi-Fi Routers
                </h3>
                <p class="text-sm text-gray-600">Fast & secure internet connectivity.</p>
            </a>
        </div>

        <!-- 🔗 Ethernet & Wi-Fi Adapters -->
        <div class="group">
            <a href="#" class="block">
                <img src="https://images-na.ssl-images-amazon.com/images/I/61bL7srKqoL._SS400_.jpg" 
                     alt="Ethernet & Wi-Fi Adapters" 
                     class="rounded-lg shadow-lg w-full transition transform hover:scale-105">
                <h3 class="text-lg font-semibold text-gray-900 mt-3 group-hover:text-orange-600 transition">
                    Ethernet & Wi-Fi Adapters
                </h3>
                <p class="text-sm text-gray-600">Seamless wired & wireless connections.</p>
            </a>
        </div>

    </div>
</section>



<!-- 🛒 Fixed Slide-in Cart Section -->
<section id="cart-section" class="fixed top-0 right-0 w-full sm:w-96 h-full bg-white shadow-lg p-6 transform translate-x-full transition-transform duration-300 overflow-y-auto z-50">
  <div class="flex justify-between items-center mb-4">
    <h2 class="text-xl font-bold">My Cart</h2>
    <button id="close-cart" class="text-red-500 text-xl">&times;</button>
  </div>

  <div id="cart-items" class="space-y-4">
    <!-- Cart items will be dynamically added here -->
  </div>

  <div class="flex justify-between mt-4 border-t pt-4">
    <h3 class="text-lg font-semibold">Total:</h3>
    <p id="checkouttotal" class="text-lg font-bold">Ksh 0.00</p>
  </div>

  <div class="mt-4 flex flex-col space-y-2">
    <button id="checkout-btn" class="bg-blue-600 text-white py-2 rounded-lg">Proceed to Checkout</button>
    <button id="clear-cart" class="bg-red-500 text-white py-2 rounded-lg">Clear Cart</button>
  </div>
</section>

<!-- Cart Overlay (Prevents Overlapping) -->
<div id="cart-overlay" class="fixed inset-0 bg-black bg-opacity-50 hidden z-40"></div>


<!-- 🛍️ CHECKOUT SECTION -->
<section id="checkout-section" class="fixed top-0 right-0 w-full sm:w-96 h-full bg-white shadow-lg p-6 transform translate-x-full transition-transform duration-300 overflow-y-auto z-50">
  <div class="flex justify-between items-center mb-4">
    <h1 class="text-3xl font-bold">Checkout</h1>
    <button id="close-checkout" class="text-red-500 text-xl">&times;</button>
  </div>

  <!-- Address & Contact -->
  <div class="grid gap-4 grid-cols-1 md:grid-cols-2">
    <div>
      <label class="text-black">Full Name</label>
      <input type="text" id="o_name" class="w-full p-3 border rounded-lg" placeholder="John Doe" required>
    </div>
    <div>
      <label class="text-black">Email Address</label>
      <input type="email" id="email" class="w-full p-3 border rounded-lg" placeholder="johndoe@gmail.com" required>
    </div>
    <div>
      <label class="text-black">Phone Number</label>
      <input type="tel" id="phone" class="w-full p-3 border rounded-lg" placeholder="2547123456789" required>
    </div>
  </div>

  <!-- Address Selection -->
<div class="mt-6">
  <h2 class="text-lg font-semibold mb-2">Select Address</h2>

  <!-- Saved Addresses Dropdown -->
  <select id="savedAddresses" class="w-full p-3 border rounded-lg">
    <option value="">Select a saved address</option>
  </select>

  <!-- OR Enter a New Address -->
  <div class="mt-4">
    <label class="text-black">New Address</label>
    <textarea id="newAddress" class="w-full p-3 border rounded-lg" placeholder="Enter new delivery address"></textarea>
  </div>
</div>

  <div id="checkout-items" class="space-y-4">
    <!-- Checkout items will be displayed here -->
</div>

  <!-- Order Summary -->
  <div class="mt-6 p-4 bg-gray-100 rounded-lg">
    <h2 class="font-semibold text-xl">Order Summary</h2>
    <p class="text-gray-700">Total: <span id="total-checkout" class="font-bold">Ksh 0.00</span></p>
  </div>

  <!-- Payment Buttons -->
  <div class="flex space-x-4 mt-6">
    <button onclick="payWithPaystack(event)" class="w-full bg-green-600 text-white py-3 rounded-lg hover:bg-green-700">Pay Now</button>
<button onclick="saveOrderToBackend('COD')" class="w-full bg-green-500 text-white py-3 rounded-lg hover:bg-green-600">Cash On Delivery</button>

  </div>
</section>

<!-- Overlay to Prevent Interaction with Background -->
<div id="checkout-overlay" class="fixed inset-0 bg-black bg-opacity-50 hidden z-40"></div>

<script src="https://js.paystack.co/v1/inline.js"></script>

<script>
    
 document.addEventListener("DOMContentLoaded", function () {
    const searchToggle = document.getElementById("searchToggle");
    const mobileSearch = document.getElementById("mobileSearch"); 
    const cartButtons = document.querySelectorAll(".add-to-cart-btn");
    
        // ✅ Search Bar Toggle for Small Screens
        searchToggle.addEventListener("click", function () {
        mobileSearch.classList.toggle("hidden");
        categoriesSidebar.classList.add("hidden"); // Hide categories when search is open
        sidebarBar.classList.remove("hidden");
    });

    // ✅ Close search bar when clicking outside
    document.addEventListener("click", function (event) {
        if (!mobileSearch.contains(event.target) && !searchToggle.contains(event.target)) {
            mobileSearch.classList.add("hidden");
        }
    });

    
      // Attach event listeners to all "Add to Cart" buttons
      cartButtons.forEach(button => {
          button.addEventListener("click", function () {
              const name = this.getAttribute("data-name");
              const price = parseFloat(this.getAttribute("data-price"));

              addToCart({ name, price, quantity: 1 });
          });
      });

      // 🛒 Function to Add Product to Cart
      function addToCart(item) {
          const cartKey = getCartKey(); // Get the correct cart for the user
          let cartItems = JSON.parse(localStorage.getItem(cartKey)) || [];

          // Check if item exists; if yes, update quantity
          const existingItem = cartItems.find(cartItem => cartItem.name === item.name);
          if (existingItem) {
              existingItem.quantity += 1;
          } else {
              cartItems.push(item);
          }

          localStorage.setItem(cartKey, JSON.stringify(cartItems));
          updateCartCount(); // Update cart icon count
          displayCartItems(); // Refresh cart section
      }

      // 🛒 Update Cart Count in Header
      function updateCartCount() {
          const cartKey = getCartKey();
          const cartItems = JSON.parse(localStorage.getItem(cartKey)) || [];
          const cartCountElement = document.getElementById("cartCount");

          let totalItems = cartItems.reduce((sum, item) => sum + item.quantity, 0);
          cartCountElement.textContent = totalItems;

          // Show/hide cart count badge
          if (totalItems > 0) {
              cartCountElement.classList.remove("hidden");
          } else {
              cartCountElement.classList.add("hidden");
          }
      }

      // 🔄 Display Cart Items in Cart Section
      function displayCartItems() {
          const cartKey = getCartKey();
          const cartItems = JSON.parse(localStorage.getItem(cartKey)) || [];
          const cartItemsContainer = document.getElementById("cart-items");
          cartItemsContainer.innerHTML = '';

          let subtotal = 0;

          cartItems.forEach((item, index) => {
              const itemTotal = item.price * item.quantity;
              subtotal += itemTotal;

              const itemDiv = document.createElement("div");
              itemDiv.classList.add("flex", "items-center", "justify-between", "border-b", "pb-4");

              itemDiv.innerHTML = `
                  <div class="flex-1 ml-4">
                      <h2 class="text-xl font-semibold">${item.name}</h2>
                      <p class="text-gray-600">Ksh ${item.price.toFixed(2)} x 
                          <input type="number" min="1" value="${item.quantity}" 
                                 onchange="updateQuantity(${index}, this.value)" 
                                 class="w-16 text-center border rounded" />
                      </p>
                      <p class="text-gray-600">Total: Ksh ${itemTotal.toFixed(2)}</p>
                  </div>
                  <button class="text-red-600 hover:underline" onclick="removeFromCart(${index})">Remove</button>
              `;

              cartItemsContainer.appendChild(itemDiv);
          });

          document.getElementById("checkouttotal").textContent = `Ksh ${subtotal.toFixed(2)}`;
      }

      // 🛒 Function to Update Item Quantity
      function updateQuantity(index, quantity) {
          const cartKey = getCartKey();
          let cartItems = JSON.parse(localStorage.getItem(cartKey)) || [];
          if (index > -1 && index < cartItems.length) {
              cartItems[index].quantity = parseInt(quantity);
              localStorage.setItem(cartKey, JSON.stringify(cartItems));
          }
          displayCartItems();
      }

      // 🗑️ Remove Item from Cart
      function removeFromCart(index) {
          const cartKey = getCartKey();
          let cartItems = JSON.parse(localStorage.getItem(cartKey)) || [];
          if (index > -1 && index < cartItems.length) {
              cartItems.splice(index, 1);
              localStorage.setItem(cartKey, JSON.stringify(cartItems));
          }
          displayCartItems();
          updateCartCount();
      }

      // 🔄 Refresh Cart Display on Storage Change
      window.addEventListener("storage", function (event) {
          if (event.key && event.key.startsWith("cart_")) {
              displayCartItems();
          }
      });

      // 🛒 Get Unique Cart Key for Each User
      function getCartKey() {
          const userId = sessionStorage.getItem("userId");
          return userId ? `cart_${userId}` : "cart_guest";
      }

      // 🔄 Initialize Cart Display
      updateCartCount();
      displayCartItems();
  });
</script>

<script>

  document.addEventListener("DOMContentLoaded", function () {
      const cartSection = document.getElementById("cart-section");
      const cartIcon = document.getElementById("cart-icon");
      const closeCart = document.getElementById("close-cart");
      const clearCart = document.getElementById("clear-cart");

      // 🛒 Open Cart Section
      cartIcon.addEventListener("click", function (e) {
          e.preventDefault();
          cartSection.classList.toggle("translate-x-full");
      });

      // ❌ Close Cart Section
      closeCart.addEventListener("click", function () {
          cartSection.classList.add("translate-x-full");
      });

      // 🗑️ Clear Cart Function
      clearCart.addEventListener("click", function () {
          localStorage.removeItem(getCartKey()); // Remove cart items
          displayCartItems();
          updateCartCount();
      });

      // 🔄 Update Cart Display on Page Load
      updateCartCount();
      displayCartItems();
  });

  // 🛒 Update Cart Count in Header
  function updateCartCount() {
      const cartKey = getCartKey();
      const cartItems = JSON.parse(localStorage.getItem(cartKey)) || [];
      const cartCountElement = document.getElementById("cartCount");

      let totalItems = cartItems.reduce((sum, item) => sum + item.quantity, 0);
      cartCountElement.textContent = totalItems;

      // Hide count if cart is empty
      if (totalItems > 0) {
          cartCountElement.classList.remove("hidden");
      } else {
          cartCountElement.classList.add("hidden");
      }
  }

  // 🛒 Display Cart Items in Sidebar
  function displayCartItems() {
      const cartKey = getCartKey();
      const cartItems = JSON.parse(localStorage.getItem(cartKey)) || [];
      const cartItemsContainer = document.getElementById("cart-items");
      cartItemsContainer.innerHTML = '';

      let subtotal = 0;

      cartItems.forEach((item, index) => {
          const itemTotal = item.price * (item.quantity || 1);
          subtotal += itemTotal;

          const itemDiv = document.createElement("div");
          itemDiv.classList.add("flex", "justify-between", "items-center", "border-b", "pb-2");

          itemDiv.innerHTML = `
              <div>
                  <h3 class="text-md font-semibold">${item.name}</h3>
                  <p class="text-gray-600">Ksh ${item.price} x 
                      <input type="number" min="1" value="${item.quantity || 1}" 
                             onchange="updateQuantity(${index}, this.value)" 
                             class="w-12 text-center border rounded" />
                  </p>
                  <p class="text-gray-600">Total: Ksh ${itemTotal}</p>
              </div>
              <button class="text-red-500 hover:underline" onclick="removeFromCart(${index})">Remove</button>
          `;

          cartItemsContainer.appendChild(itemDiv);
      });

      document.getElementById("checkouttotal").textContent = `Ksh ${subtotal.toFixed(2)}`;
  }

  // 🛒 Update Item Quantity
  function updateQuantity(index, quantity) {
      const cartKey = getCartKey();
      let cartItems = JSON.parse(localStorage.getItem(cartKey)) || [];
      if (index > -1 && index < cartItems.length) {
          cartItems[index].quantity = parseInt(quantity) || 1;
          localStorage.setItem(cartKey, JSON.stringify(cartItems));
      }
      displayCartItems();
      updateCartCount();
  }

  // ❌ Remove Item from Cart
  function removeFromCart(index) {
      const cartKey = getCartKey();
      let cartItems = JSON.parse(localStorage.getItem(cartKey)) || [];
      if (index > -1 && index < cartItems.length) {
          cartItems.splice(index, 1);
          localStorage.setItem(cartKey, JSON.stringify(cartItems));
      }
      displayCartItems();
      updateCartCount();
  }

// ✅ Get Cart Key (Unique for Each User)
function getCartKey() {
    const userId = sessionStorage.getItem("userId");
    return userId ? `cart_${userId}` : "cart_guest";
}

// ✅ Get Cart Items
function getCartItems() {
    const cartKey = getCartKey();
    console.log("📦 Retrieving cart items from:", cartKey);
    return JSON.parse(localStorage.getItem(cartKey)) || [];
}


  // ✅ Calculate the Total Price of Items in Cart
function calculateTotal() {
    const cartItems = getCartItems();
    let total = cartItems.reduce((sum, item) => sum + (item.price * (item.quantity || 1)), 0);
    return total;
}

// ✅ Update Checkout Total
function updateCheckoutTotal() {
    const total = calculateTotal(); // Get total price
    const totalElement = document.getElementById("total-checkout");

    if (!totalElement) {
        console.error("❌ Error: total-checkout element not found.");
        return;
    }

    totalElement.textContent = `Ksh ${total.toFixed(2)}`;
}

// ✅ Display Checkout Items
function displayCheckoutItems() {
    const cartItems = getCartItems();
    const checkoutItemsContainer = document.getElementById("checkout-items");

    if (!checkoutItemsContainer) {
        console.error("❌ Error: checkout-items container not found.");
        return;
    }

    checkoutItemsContainer.innerHTML = ""; // Clear previous items

    cartItems.forEach((item) => {
        const itemTotal = item.price * (item.quantity || 1);
        const itemDiv = document.createElement("div");
        itemDiv.classList.add("flex", "justify-between", "items-center", "border-b", "pb-2");

        itemDiv.innerHTML = `
            <div>
                <h3 class="text-md font-semibold">${item.name}</h3>
                <p class="text-gray-600">Ksh ${item.price} x ${item.quantity || 1}</p>
                <p class="text-gray-600">Total: Ksh ${itemTotal.toFixed(2)}</p>
            </div>
        `;
        checkoutItemsContainer.appendChild(itemDiv);
    });

    updateCheckoutTotal(); // Update the total after displaying items
}

// ✅ Validate Checkout Form
function getInputValues() {
    const inputs = {
        name: document.getElementById("o_name").value.trim(),
        email: document.getElementById("email").value.trim(),
        phone: document.getElementById("phone").value.trim()
    };

    for (const key in inputs) {
        if (inputs[key] === "") {
            alert(`Please fill in your ${key}.`);
            return null;
        }
    }
    return inputs;
}

// ✅ Open Checkout & Update Total
document.getElementById("checkout-btn").addEventListener("click", function (e) {
    e.preventDefault();
    const cartItems = getCartItems();

    if (cartItems.length === 0) {
        alert("Your cart is empty! Please add items before proceeding to checkout.");
        return;
    }

    displayCheckoutItems(); // Show checkout items
    updateCheckoutTotal(); // Update total
    document.getElementById("checkout-section").classList.remove("hidden");
    document.getElementById("checkout-overlay").classList.remove("hidden");
});

// ✅ Close Checkout
document.getElementById("close-checkout").addEventListener("click", function () {
    document.getElementById("checkout-section").classList.add("hidden");
    document.getElementById("checkout-overlay").classList.add("hidden");
});

// ✅ Ensure Checkout is Updated When Cart is Modified
window.addEventListener("storage", function () {
    updateCheckoutTotal();
});

  document.addEventListener("DOMContentLoaded", function () {
      const checkoutSection = document.getElementById("checkout-section");
      const checkoutOverlay = document.getElementById("checkout-overlay");
      const openCheckoutBtn = document.getElementById("checkout-btn");
      const closeCheckoutBtn = document.getElementById("close-checkout");
      
      // Open Checkout
      function openCheckout() {
          checkoutSection.classList.remove("translate-x-full");
          checkoutOverlay.classList.remove("hidden");
          updateCheckoutTotal();
      }

      // Close Checkout
      function closeCheckout() {
          checkoutSection.classList.add("translate-x-full");
          checkoutOverlay.classList.add("hidden");
      }

      // Event Listeners
      openCheckoutBtn.addEventListener("click", openCheckout);
      closeCheckoutBtn.addEventListener("click", closeCheckout);
      checkoutOverlay.addEventListener("click", closeCheckout);
  });


  async function saveOrderToBackend(paymentMethod, transactionId = null) {

    const userId = sessionStorage.getItem("userId") || "guest";
    const cartItems = getCartItems(); // ✅ Fetch cart items

    if (cartItems.length === 0) {
        alert("Your cart is empty!");
        return;
    }

    // ✅ Get user details (including address)
    const userDetails = getInputValues();
    if (!userDetails) return; // Stop if fields are missing

    // ✅ Set Payment Status
    let paymentStatus = paymentMethod === "COD" ? "COD" : transactionId ? "paid" : "failed";

    const orderData = {
        userId,
        name: userDetails.name,
        email: userDetails.email,
        phone: userDetails.phone,
        address: userDetails.address,
        items: cartItems.map(item => ({
            itemId: item.name,
            quantity: item.quantity,
            price: item.price
        })),
        total: calculateTotal(),
        paymentMethod,
        transactionId: transactionId || null,
        paymentStatus,
        orderStatus: "pending" // Default status
    };

    try {
        const response = await fetch("https://shopright.onrender.com/api/orders", {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify(orderData),
        });

        const result = await response.json();


        if (response.ok) {
            alert("🎉 Order placed successfully!");

            // ✅ Clear the cart after a successful order
            localStorage.removeItem(getCartKey());
            updateCartCount();
            displayCartItems();

            // ✅ Redirect to Thank You page
            window.location.href = "thank-you.html";
        } else {
            alert(`❌ Order failed: ${result.message}`);
        }
    } catch (error) {
        console.error("❌ Error placing order:", error);
        alert("An error occurred while placing the order.");
    }
}



function payWithPaystack(e) {
    e.preventDefault();
    const userDetails = getInputValues();
    if (!userDetails) return;

    const amount = calculateTotal();

    if (typeof PaystackPop === "undefined") {
        alert("Error: Paystack SDK not loaded. Please check your internet connection.");
        return;
    }

    const handler = PaystackPop.setup({
        key: "pk_test_232531a5c927ef2cc67ed1b85af3f26e3b8ed2f2",
        email: userDetails.email,
        amount: amount * 100,
        currency: "KES",
        ref: `ORD-${Math.floor(Math.random() * 1000000)}`,
        callback: function (response) {  // ✅ Use a normal function, not async
            alert("Payment successful! Reference: " + response.reference);

            saveOrderToBackend("Paystack", response.reference)
                .then(() => {
                    window.location.href = "thank-you.html"; // Redirect user after order is saved
                })
                .catch(error => {
                    console.error("❌ Error saving order:", error);
                    alert("An error occurred while saving your order.");
                });
        },
        onClose: function () {
            alert("Transaction was not completed, please try again.");
        },
    });

    handler.openIframe();
}

</script>

<script>
// ✅ Fetch & Display Full Address Details (Address, Region, City)
async function fetchSavedAddresses() {
    const token = sessionStorage.getItem('token');
    if (!token) return; // No need to fetch for guests

    try {
        const response = await fetch("https://shopright.onrender.com/api/addresses", {
            method: "GET",
            headers: { "Authorization": `Bearer ${token}` }
        });

        if (!response.ok) throw new Error("Failed to fetch addresses");

        const data = await response.json();

        const savedAddressesDropdown = document.getElementById("savedAddresses");
        savedAddressesDropdown.innerHTML = `<option value="">Select a saved address</option>`; // Reset dropdown

        data.forEach(addressObj => {
            const option = document.createElement("option");

            // ✅ Combine Address, City, and Region
            option.value = `${addressObj.address}, ${addressObj.city}, ${addressObj.region}`;
            option.textContent = `${addressObj.address}, ${addressObj.city}, ${addressObj.region}`;

            savedAddressesDropdown.appendChild(option);
        });
    } catch (error) {
        console.error("❌ Error fetching addresses:", error);
    }
}


// ✅ Get Selected Address (New or Saved)
function getSelectedAddress() {
    const savedAddress = document.getElementById("savedAddresses").value;
    const newAddress = document.getElementById("newAddress").value.trim();

    if (newAddress) return newAddress;
    if (savedAddress) return savedAddress;

    alert("Please select or enter an address.");
    return null;
}

// ✅ Modify `getInputValues()` to Include Address
function getInputValues() {
    const inputs = {
        name: document.getElementById("o_name").value.trim(),
        email: document.getElementById("email").value.trim(),
        phone: document.getElementById("phone").value.trim(),
        address: getSelectedAddress() // Include address
    };

    for (const key in inputs) {
        if (inputs[key] === "") {
            alert(`Please fill in your ${key}.`);
            return null;
        }
    }
    return inputs;
}

// ✅ Fetch Addresses on Checkout Load
document.addEventListener("DOMContentLoaded", fetchSavedAddresses);

</script>

  <!-- Footer: Stays static -->
  <footer class="bg-gray-100 py-2 mb-2">
    <div class="container mx-auto flex flex-wrap lg:flex-nowrap justify-between">
      <!-- Logo on the Top (remains same across all screens) -->
      <div class="w-full lg:w-1/4 mb-6 lg:mb-0">
        <a href="/" class="flex items-center">
          <img src="img/Logo.png" alt="Logo" class="h-10">
          <span class="ml-2 text-xl font-bold text-gray-700"></span>
        </a>
      </div>
  
      <!-- Quick Access and Working Hours in a row on small and large screens -->
      <div class="w-full flex flex-row mb-2 lg:mb-0 lg:w-1/2">
        <!-- Quick Access -->
        <div class="w-1/2 mb-6 lg:mb-0 ml-4">
          <h4 class="font-bold text-lg mb-2">Quick Access</h4>
          <ul class="text-gray-700">
            <li><a href="#" class="hover:underline">Home</a></li>
            <li><a href="#" class="hover:underline">Shop All Products</a></li>
          </ul>
        </div>
        <!-- Working Hours -->
        <div class="w-1/2 ml-4">
          <h4 class="font-bold text-lg mb-4">Working Hours</h4>
          <p class="text-gray-700 font-semibold">Monday – Saturday</p>
          <p class="text-gray-700 font-semibold">8:30am – 8:00pm</p>
        </div>
      </div>
  
      <!-- Location (Full width on mobile) -->
      <div class="w-full lg:w-1/4 mb-6 lg:mb-2 ml-4">
        <h4 class="font-bold text-lg mb-4">Location</h4>
        <p class="text-gray-700 font-bold">Got Questions?</p>
        <p class="text-yellow-500 font-semibold text-lg">254742606408 | 254110296158</p>
        <p class="text-gray-700 mt-4">
          Shop F3, First Floor, Dominion Expo Centre, <br>
          Tom Mboya Street, Nairobi, Kenya.
        </p>
      </div>
    </div>
  
    <!-- Footer Bottom Section (Company Name on Bottom Left, Social Media Icons on Bottom Right) -->
    <div class="container mx-auto flex justify-between items-center mt-2 border-t border-gray-200 pt-6">
      <p class="text-gray-700 text-sm">&copy; 2025 ShopRight Kenya. All Rights Reserved</p>
  
      <!-- Social Media Icons on the Bottom Right -->
      <div class="flex space-x-4 mr-8">
        <a href="#" class="text-gray-600 hover:text-blue-900"><i class="fab fa-facebook"></i></a>
        <a href="#" class="text-orange-600 hover:text-orange-900"><i class="fab fa-instagram"></i></a>
        <a href="#" class="text-green-600 hover:text-green-900"><i class="fab fa-whatsapp"></i></a>
        <a href="#" class="text-gray-600 hover:text-black-900"><i class="fab fa-twitter"></i></a>
      </div>
    </div>
  </footer> 

  <script>
document.addEventListener("DOMContentLoaded", function () {
    const searchInput = document.getElementById("search-input"); // Desktop Search Input
    const searchButton = document.getElementById("search-btn");
    const resultsContainer = document.getElementById("search-results"); // Desktop Search Results

    const mobileSearchInput = document.getElementById("mobile-search-input"); // Mobile Search Input
    const mobileSearchButton = document.getElementById("mobile-search-btn");
    const mobileResultsContainer = document.getElementById("mobile-search-results"); // Mobile Search Results

    // ✅ Fetch Products from LocalStorage
    function getProducts() {
        return JSON.parse(localStorage.getItem("productData")) || {};
    }

    // ✅ Convert products into a searchable array
    function getAllProducts() {
        const products = getProducts();
        let allItems = [];
        for (const category in products) {
            allItems = allItems.concat(products[category]); // Merge all category items
        }
        return allItems;
    }

    // ✅ Universal Search Function (Now Includes Images)
    function displayResults(inputElement, resultsContainer) {
        const input = inputElement.value.trim().toLowerCase();
        resultsContainer.innerHTML = ""; // Clear previous results

        if (!input) {
            resultsContainer.innerHTML = `<p class="text-gray-500 p-2">Start typing to search...</p>`;
            resultsContainer.classList.remove("hidden");
            return;
        }

        const allItems = getAllProducts();
        const filteredItems = allItems.filter(item => 
            item.name.toLowerCase().includes(input) || 
            item.category.toLowerCase().includes(input)
        );

        if (filteredItems.length > 0) {
            filteredItems.forEach(item => {
                const itemElement = document.createElement("a");
                itemElement.href = `./product?product=${item.id}`;
                itemElement.classList.add("search-item", "flex", "items-center", "p-2", "hover:bg-gray-100", "cursor-pointer");

                itemElement.innerHTML = `
                    <img src="${item.image}" class="w-12 h-12 object-cover rounded mr-3" alt="${item.name}">
                    <div>
                        <h4 class="text-sm font-semibold">${item.name}</h4>
                        <p class="text-red-500 font-bold">KSh ${item.price.toLocaleString()}</p>
                    </div>
                `;

                resultsContainer.appendChild(itemElement);
            });
        } else {
            resultsContainer.innerHTML = `<p class="text-red-500 p-2">No matches found.</p>`;
        }

        resultsContainer.classList.remove("hidden");
    }

    // ✅ Event Listeners for Desktop
    searchButton.addEventListener("click", function () {
        displayResults(searchInput, resultsContainer);
    });

    searchInput.addEventListener("input", function () {
        displayResults(searchInput, resultsContainer);
    });

    // ✅ Event Listeners for Mobile
    mobileSearchButton.addEventListener("click", function () {
        displayResults(mobileSearchInput, mobileResultsContainer);
    });

    mobileSearchInput.addEventListener("input", function () {
        displayResults(mobileSearchInput, mobileResultsContainer);
    });

    // ✅ Hide results when clicking outside (For Both Desktop & Mobile)
    document.addEventListener("click", function (event) {
        if (!searchInput.contains(event.target) && !resultsContainer.contains(event.target)) {
            resultsContainer.classList.add("hidden");
        }
        if (!mobileSearchInput.contains(event.target) && !mobileResultsContainer.contains(event.target)) {
            mobileResultsContainer.classList.add("hidden");
        }
    });
});



</script>

  <script>
    // Set the end date for the countdown
    const endDate = new Date("Mar 25, 2025 20:00:00").getTime();
  
    // Update the countdown every second
    const countdownInterval = setInterval(function() {
      const now = new Date().getTime();
      const distance = endDate - now;
  
      // Calculate days, hours, minutes, and seconds
      const days = Math.floor(distance / (1000 * 60 * 60 * 24));
      const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
      const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
  
      // Display the result
      document.getElementById("countdown").innerHTML = days + "d : " + hours + "h : " + minutes + "m ";
  
      // If the countdown is over, display a message
      if (distance < 0) {
        clearInterval(countdownInterval);
        document.getElementById("countdown").innerHTML = "Expired";
      }
    }, 1000);
  </script>

  <script>
  document.addEventListener("DOMContentLoaded", function () {
    const dropdownBtn = document.getElementById("dropdownBtn");
    const dropdownMenu = document.getElementById("dropdownMenu");

    function isLoggedIn() {
        return sessionStorage.getItem("token") !== null;
    }

    function updateDropdown() {
        dropdownMenu.innerHTML = ""; // Clear previous items

        if (isLoggedIn()) {
            // ✅ Show "My Account" & "Logout" when logged in
            dropdownMenu.innerHTML = `
                <li><a href="./dashboard" class="block px-4 py-2 hover:bg-gray-100">My Account</a></li>
                <li><a href="#" id="logoutBtn" class="block px-4 py-2 hover:bg-gray-100 text-red-500">Logout</a></li>
            `;
        } else {
            // ✅ Show "Login" & "Sign Up" when logged out
            dropdownMenu.innerHTML = `
                <li><a href="./login" class="block px-4 py-2 hover:bg-gray-100">Login</a></li>
                <li><a href="./signup" class="block px-4 py-2 hover:bg-gray-100">Sign Up</a></li>
            `;
        }
    }

    // ✅ Toggle dropdown visibility
    dropdownBtn.addEventListener("click", function (event) {
        event.stopPropagation();
        dropdownMenu.classList.toggle("hidden");
    });

    // ✅ Close dropdown when clicking outside
    document.addEventListener("click", function (event) {
        if (!dropdownMenu.contains(event.target) && event.target !== dropdownBtn) {
            dropdownMenu.classList.add("hidden");
        }
    });

    // ✅ Handle logout action
    document.addEventListener("click", function (event) {
        if (event.target.id === "logoutBtn") {
            event.preventDefault();
            sessionStorage.removeItem("token"); // Remove authentication token
            sessionStorage.removeItem("userId"); // Remove user ID
            updateDropdown(); // Update dropdown
            dropdownMenu.classList.add("hidden");
            alert("Logged out successfully!");
            window.location.reload(); // Reload page to reflect changes
        }
    });

    updateDropdown(); // ✅ Initialize dropdown on page load
});

</script>
  <style>

    /* Ensure the Swiper Carousel is scrollable */
    .swiper-container {
      overflow: auto; /* Allow only the carousel section to scroll */
    } /* Make the arrows sticky on both sides */
    .swiper-button-next,
    .swiper-button-prev {
      position: fixed; /* Fix the position */
      top: 50%;        /* Vertically center */
      transform: translateY(-50%); /* Adjust for centering */
      z-index: 10; /* Ensure they are above content */
      width: 40px;
      height: 40px;
      background-color: rgba(0, 0, 0, 0.5); /* Optional: Add a background to make arrows visible */
      border-radius: 50%; /* Optional: Make them circular */
      color: white; /* Make arrows white */
    }
  
    /* Swiper scrollbar customization */
    .swiper-scrollbar {
      height: 8px; /* Height of the scrollbar */
      background-color: #e0e0e0; /* Background of the scrollbar */
    }
  
    .swiper-scrollbar-drag {
      background-color: #00a651; /* Color of the draggable scrollbar */
    }
  
    /* Positioning the navigation arrows correctly */
    .swiper-button-next {
      right: 3px;
    }
  
    .swiper-button-prev {
      left: 3px;
    }
  </style>

</body>
</html>